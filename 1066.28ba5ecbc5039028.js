"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1066],{76:(Y,W,c)=>{c.d(W,{GW:()=>y,dk:()=>A,oK:()=>l});var l=(()=>{return(m=l||(l={})).Prompt="PROMPT",m.Camera="CAMERA",m.Photos="PHOTOS",l;var m})(),y=(()=>{return(m=y||(y={})).Rear="REAR",m.Front="FRONT",y;var m})(),A=(()=>{return(m=A||(A={})).Uri="uri",m.Base64="base64",m.DataUrl="dataUrl",A;var m})()},7423:(Y,W,c)=>{c.d(W,{Uw:()=>I,dV:()=>U,fo:()=>j,xz:()=>S});var l=c(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var p=(()=>{return(i=p||(p={})).Unimplemented="UNIMPLEMENTED",i.Unavailable="UNAVAILABLE",p;var i})();class S extends Error{constructor(e,r){super(e),this.message=e,this.code=r}}const O=i=>{var e,r,a,t,u;const n=i.CapacitorCustomPlatform||null,o=i.Capacitor||{},h=o.Plugins=o.Plugins||{},d=i.CapacitorPlatforms,x=(null===(e=d?.currentPlatform)||void 0===e?void 0:e.getPlatform)||(()=>null!==n?n.name:(i=>{var e,r;return i?.androidBridge?"android":null!==(r=null===(e=i?.webkit)||void 0===e?void 0:e.messageHandlers)&&void 0!==r&&r.bridge?"ios":"web"})(i)),ee=(null===(r=d?.currentPlatform)||void 0===r?void 0:r.isNativePlatform)||(()=>"web"!==x()),ne=(null===(a=d?.currentPlatform)||void 0===a?void 0:a.isPluginAvailable)||(f=>!(!J.get(f)?.platforms.has(x())&&!K(f))),K=(null===(t=d?.currentPlatform)||void 0===t?void 0:t.getPluginHeader)||(f=>{var g;return null===(g=o.PluginHeaders)||void 0===g?void 0:g.find(M=>M.name===f)}),J=new Map,ae=(null===(u=d?.currentPlatform)||void 0===u?void 0:u.registerPlugin)||((f,g={})=>{const M=J.get(f);if(M)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),M.proxy;const F=x(),R=K(f);let E;const le=function(){var v=(0,l.Z)(function*(){return!E&&F in g?E=E="function"==typeof g[F]?yield g[F]():g[F]:null!==n&&!E&&"web"in g&&(E=E="function"==typeof g.web?yield g.web():g.web),E});return function(){return v.apply(this,arguments)}}(),N=v=>{let P;const w=(...L)=>{const C=le().then(b=>{const Z=((v,P)=>{var w,L;if(!R){if(v)return null===(L=v[P])||void 0===L?void 0:L.bind(v);throw new S(`"${f}" plugin is not implemented on ${F}`,p.Unimplemented)}{const C=R?.methods.find(b=>P===b.name);if(C)return"promise"===C.rtype?b=>o.nativePromise(f,P.toString(),b):(b,Z)=>o.nativeCallback(f,P.toString(),b,Z);if(v)return null===(w=v[P])||void 0===w?void 0:w.bind(v)}})(b,v);if(Z){const $=Z(...L);return P=$?.remove,$}throw new S(`"${f}.${v}()" is not implemented on ${F}`,p.Unimplemented)});return"addListener"===v&&(C.remove=(0,l.Z)(function*(){return P()})),C};return w.toString=()=>`${v.toString()}() { [capacitor code] }`,Object.defineProperty(w,"name",{value:v,writable:!1,configurable:!1}),w},Q=N("addListener"),k=N("removeListener"),ce=(v,P)=>{const w=Q({eventName:v},P),L=function(){var b=(0,l.Z)(function*(){const Z=yield w;k({eventName:v,callbackId:Z},P)});return function(){return b.apply(this,arguments)}}(),C=new Promise(b=>w.then(()=>b({remove:L})));return C.remove=(0,l.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield L()}),C},V=new Proxy({},{get(v,P){switch(P){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return R?ce:Q;case"removeListener":return k;default:return N(P)}}});return h[f]=V,J.set(f,{name:f,proxy:V,platforms:new Set([...Object.keys(g),...R?[F]:[]])}),V});return o.convertFileSrc||(o.convertFileSrc=f=>f),o.getPlatform=x,o.handleError=f=>i.console.error(f),o.isNativePlatform=ee,o.isPluginAvailable=ne,o.pluginMethodNoop=(f,g,M)=>Promise.reject(`${M} does not have an implementation of "${g}".`),o.registerPlugin=ae,o.Exception=S,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o.platform=o.getPlatform(),o.isNative=o.isNativePlatform(),o},U=(i=>i.Capacitor=O(i))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),j=U.registerPlugin;class I{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,r){var a=this;this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(r);const u=this.windowListeners[e];u&&!u.registered&&this.addWindowListener(u);const n=function(){var h=(0,l.Z)(function*(){return a.removeListener(e,r)});return function(){return h.apply(this,arguments)}}(),o=Promise.resolve({remove:n});return Object.defineProperty(o,"remove",{value:(h=(0,l.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield n()}),function(){return h.apply(this,arguments)})}),o;var h}removeAllListeners(){var e=this;return(0,l.Z)(function*(){e.listeners={};for(const r in e.windowListeners)e.removeWindowListener(e.windowListeners[r]);e.windowListeners={}})()}notifyListeners(e,r){const a=this.listeners[e];a&&a.forEach(t=>t(r))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:a=>{this.notifyListeners(r,a)}}}unimplemented(e="not implemented"){return new U.Exception(e,p.Unimplemented)}unavailable(e="not available"){return new U.Exception(e,p.Unavailable)}removeListener(e,r){var a=this;return(0,l.Z)(function*(){const t=a.listeners[e];if(!t)return;const u=t.indexOf(r);a.listeners[e].splice(u,1),a.listeners[e].length||a.removeWindowListener(a.windowListeners[e])})()}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){!e||(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}},1066:(Y,W,c)=>{c.r(W),c.d(W,{Tab1PageModule:()=>a});var l=c(7479),y=c(6895),A=c(4719),m=c(581),D=c(8564),G=c(5861),s=c(6738),p=c(7423),S=c(76);const H=(0,p.fo)("Camera",{web:()=>c.e(3954).then(c.bind(c,3954)).then(t=>new t.CameraWeb)});var O=(()=>{return(t=O||(O={})).Documents="DOCUMENTS",t.Data="DATA",t.Library="LIBRARY",t.Cache="CACHE",t.External="EXTERNAL",t.ExternalStorage="EXTERNAL_STORAGE",O;var t})();const B=(0,p.fo)("Filesystem",{web:()=>c.e(6364).then(c.bind(c,6364)).then(t=>new t.FilesystemWeb)}),z=(0,p.fo)("Storage",{web:()=>c.e(8913).then(c.bind(c,8913)).then(t=>new t.StorageWeb)});let I=(()=>{class t{constructor(n){this.photos=[],this.PHOTO_STORAGE="photos",this.convertBlobToBase64=o=>new Promise((h,d)=>{const T=new FileReader;T.onerror=d,T.onload=()=>{h(T.result)},T.readAsDataURL(o)}),this.platform=n}addNewToGallery(){var n=this;return(0,G.Z)(function*(){const o=yield H.getPhoto({resultType:S.dk.Uri,source:S.oK.Camera,quality:100}),h=yield n.savePicture(o);n.photos.unshift(h),z.set({key:n.PHOTO_STORAGE,value:JSON.stringify(n.photos)})})()}loadSaved(){var n=this;return(0,G.Z)(function*(){const o=yield z.get({key:n.PHOTO_STORAGE});if(n.photos=JSON.parse(o.value)||[],!n.platform.is("hybrid"))for(let h of n.photos){const d=yield B.readFile({path:h.filepath,directory:O.Data});h.webviewPath=`data:image/jpeg;base64,${d.data}`}})()}savePicture(n){var o=this;return(0,G.Z)(function*(){const h=yield o.readAsBase64(n),d=(new Date).getTime()+".jpeg",T=yield B.writeFile({path:d,data:h,directory:O.Data});return o.platform.is("hybrid")?{filepath:T.uri,webviewPath:p.dV.convertFileSrc(T.uri)}:{filepath:d,webviewPath:n.webPath}})()}readAsBase64(n){var o=this;return(0,G.Z)(function*(){if(o.platform.is("hybrid"))return(yield B.readFile({path:n.path})).data;{const d=yield(yield fetch(n.webPath)).blob();return yield o.convertBlobToBase64(d)}})()}}return t.\u0275fac=function(n){return new(n||t)(s.LFG(l.t4))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function X(t,u){if(1&t&&(s.TgZ(0,"ion-col",6),s._UZ(1,"ion-img",7),s.qZA()),2&t){const n=u.$implicit;s.xp6(1),s.Q6J("src",n.webviewPath)}}const e=[{path:"",component:(()=>{class t{constructor(n){this.photoService=n}addPhotoToGallery(){this.photoService.addNewToGallery()}ngOnInit(){var n=this;return(0,G.Z)(function*(){yield n.photoService.loadSaved()})()}}return t.\u0275fac=function(n){return new(n||t)(s.Y36(I))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-tab1"]],decls:17,vars:1,consts:[["collapse","condense"],["size","large"],["size","6",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","center","slot","fixed"],[3,"click"],["name","camera"],["size","6"],[3,"src"]],template:function(n,o){1&n&&(s.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),s._uU(3,"Photo Gallery"),s.qZA()()(),s.TgZ(4,"ion-content")(5,"ion-header",0)(6,"ion-toolbar")(7,"ion-title",1),s._uU(8,"Photo Gallery"),s.qZA()()()(),s.TgZ(9,"ion-content")(10,"ion-grid")(11,"ion-row"),s.YNc(12,X,2,1,"ion-col",2),s.qZA()()(),s.TgZ(13,"ion-content")(14,"ion-fab",3)(15,"ion-fab-button",4),s.NdJ("click",function(){return o.addPhotoToGallery()}),s._UZ(16,"ion-icon",5),s.qZA()()()),2&n&&(s.xp6(12),s.Q6J("ngForOf",o.photoService.photos))},dependencies:[l.wI,l.W2,l.IJ,l.W4,l.jY,l.Gu,l.gu,l.Xz,l.Nd,l.sr,l.wd,y.sg]}),t})()}];let r=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[D.Bz.forChild(e),D.Bz]}),t})(),a=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[l.Pc,y.ez,A.u5,m.e,r]}),t})()}}]);